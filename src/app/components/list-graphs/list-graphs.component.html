
<div class="pagina">
	<h1 >Open Visual data</h1>
	<div >
		Open Visual Data te permite crear gráficos y visualizaciones con los datos disponibles en Aragón Open Data.
	</div>
</div>

<div class="center">
    <button (click)="next()" class="button">Crear nueva gr&aacute;fica</button>
</div>

<div class="carousel" >
    <ngx-carousel [inputs]="carouselTileTwo">
        <ngx-tile NgxCarouselItem *ngFor="let chart of carouselData; let i = index;">
            <div class="wBg">
                <div class="col-md-10" style="text-align: center; padding-left: 20%" >
                    <span>T&iacute;tulo: {{chart.title}}</span>
                </div>
                <div class="col-md-2">
                    <button data-toggle="modal" data-target="#listModal" (click)="updateChart(chart.id)" class="button3"><i class="fa fa-retweet"></i></button>
                </div>
                <div class="tile" style="display: block;">
                    <canvas baseChart [datasets]="chart.data" [labels]="chart.labels" [options]="chartOptions"
                            [chartType]=chart.type></canvas>
                </div>
                <div style="text-align: center">
                        <button (click)="openChart(chart.id)" class="button2">Abrir gr&aacute;fica</button>
                        <!--<button (click)="openEmbedChart(chart.id)" class="button2">Embed</button>-->
                </div>
            </div>
        </ngx-tile>
        <button NgxCarouselPrev class="leftRs">&lt;</button>
        <button NgxCarouselNext class="rightRs">&gt;</button>
    </ngx-carousel>
</div>

<!-- Modal -->
<div class="modal fade" id="listModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog" role="document">
        <div style="text-align: center; padding-top: 50%; padding-left: 50%;">
            <div class="loader"></div>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="virtuosoModal" tabindex="-1" role="dialog" aria-labelledby="virtuosoModal" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Actualizar consulta</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
            </div>
            <div class="modal-body">
                    <textarea pInputTextarea style="width: 100%; height: 300px" [(ngModel)]="dataset"></textarea>
            </div>
            <div class="modal-footer">        
                <button type="button" (click)="callUpdateVirtuoso()" class="btn btn-primary" data-dismiss="modal">Save changes</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>