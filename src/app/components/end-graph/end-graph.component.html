<div>
    <div style="margin-left:25%">
        <div>
            <div *ngIf="chart!==undefined && !isMap" style="display: block;" style="width: 70%;">
                <div class="title">
                    <span>{{chart.title}}</span>
                    <span style="float: right;">
                        <button data-toggle="modal" data-target="#listModal" (click)="updateChart(chart.id)" class="button3">
                            <i class="fa fa-refresh"></i>
                        </button>
                    </span>
                </div>
                <canvas baseChart [datasets]="chart.data" [labels]="chart.labels" [options]="chartOptions" [colors]="chart.colors" [legend]="chartLegend"
                    [chartType]="chart.type">
                </canvas>
            </div>
            <div *ngIf="points!==undefined && isMap" style="width: 70%;">
                <div class="title">
                    <span>{{title}}</span>
                    <span style="float: right;">
                        <button data-toggle="modal" data-target="#listModal" (click)="updateChart(id)" class="button3">
                            <i class="fa fa-refresh"></i>
                        </button>
                    </span>
                </div>
                <app-map [descriptionPoints]="descriptions" [points]="points" zoom="7"></app-map>
            </div>
        </div>
    </div>
    <div style="text-align: center">
        <span class="social-media-icons">
            <a href="https://www.facebook.com/sharer.php?u={{actualRoute}}">
                <i class="fa fa-facebook"></i>
            </a>
        </span>
        <span class="social-media-icons">
            <a href="https://twitter.com/share?url={{actualRoute}}">
                <i class="fa fa-twitter"></i>
            </a>
        </span>
        <span class="social-media-icons">
            <a href="https://plus.google.com/share?url={{actualRoute}}">
                <i class="fa fa-google"></i>
            </a>
        </span>


        <h4>Reutiliza el gr√°fico</h4>
        <span *ngIf="hideEmbed">
            <button (click)="hideEmbedButton()" class="button">Mostrar</button>
        </span>
        <span *ngIf="!hideEmbed">
            <code class="box">
                <pre class="box"><p>&lt;iframe src="{{routeEmbed}}" width="{{width}}" height="{{(width)/2}}"&gt;&lt;/iframe&gt;</p></pre>
            </code>
        </span>
    </div>
</div>

<div class="modal fade" id="listModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div style="text-align: center; padding-top: 50%; padding-left: 50%;">
            <div class="loader"></div>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="virtuosoModal" tabindex="-1" role="dialog" aria-labelledby="virtuosoModal" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Actualizar consulta</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <textarea pInputTextarea style="width: 100%; height: 300px" [(ngModel)]="dataset"></textarea>
            </div>
            <div class="modal-footer">
                <button type="button" (click)="callUpdateVirtuoso()" class="btn btn-primary" data-dismiss="modal">Guardar</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>