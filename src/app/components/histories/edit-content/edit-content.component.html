  
<div class="row">
    <h2>Crear un nuevo contenido</h2>
</div>

<form [formGroup]="contentForm">
  <div class="row">
    <div class="col-md-12">
      <div class="tab-content">

        <!-- Content Tab -->
        <div class="tab-pane active" id="content_tab" role="tabpanel">

          <!-- Titulo contenido -->
          <div>
              <h4 class="form-section-title">Título *</h4>
              <p>Por favor, escribe una denominación del contenido</p>
              <input class="col-12 form-control" type="text" placeholder="Título" formControlName="title" [class.is-invalid]="invalidTitle">
              <small *ngIf="invalidTitle" class="text-danger">Campo Obligatorio</small>
          </div>

          <!-- Descripcion contenido -->
          <div>
            <h4 class="form-section-title">Contenido *</h4>
            <p>El contenido de la historia es lo que quieres contar, con la ayuda de los distintos gráficos que aporta el portal de Aragon Open Data</p>
            <angular-tinymce id="editorContent" [settings]="settings" formControlName="description"></angular-tinymce>
          </div> 

          <!-- Fuente de datos -->
          <div>
            <h4 class="form-section-title">Fuente de datos *</h4>
            <p>
              En este apartado deberás de elegir una fuente de datos del portal de Aragón Open Data, de la cual
              te has apoyado para escribir esta historia. Puedeser un conjunto de datos, una vista del GA_OD_Core,
              una consulta SPARQL o una gráfica utilizando la herramienta de Open Visual Data...etc
            </p>

            <label class='form-row align-items-center'>
              <input type="radio" value='graph' formControlName="visualContent" (click)="contentForm.controls['id_visualContent'].reset()"><span>Gráfica</span> 
            </label>

            <div *ngIf='contentModel.id_visualContent'>
              <p class="form-section-title">El id seleccionado es: {{contentModel.id_visualContent}}</p>
            </div>
            <button *ngIf="contentForm.get('visualContent').value=='graph'" class="btn-left btn btn-outline-secondary mb-2" type="button" (click)='openVisualData()'>Abrir Open Visual Data</button>
            
            <label class='form-row align-items-center'>
              <input type="radio" value='youtubeLink' formControlName="visualContent" (click)="contentForm.controls['id_visualContent'].reset()"><span>Enlace Youtube</span>
            </label>

            <div *ngIf="contentForm.get('visualContent').value=='youtubeLink'">
              <div class="form-row align-items-center">
                <div class="col-auto">
                  <label class="sr-only" for="idYoutube">Id del video</label>
                  <div class="input-group mb-2">
                    <div class="input-group-prepend">
                      <div class="input-group-text">https://www.youtube.com/watch?=</div>
                    </div>
                    <input type="text" class="form-control" formControlName="id_visualContent" id="idYoutube" placeholder="Id del video">
                  </div>
                </div>
              </div>
            </div>

            <label class='form-row align-items-center'>
              <input type="radio" value='slideShare' formControlName="visualContent" (click)="contentForm.controls['id_visualContent'].reset()"><span>Enlace Share Slides</span>
            </label>

            <div *ngIf="contentForm.get('visualContent').value=='slideShare'">
              <div class="form-row align-items-center mb-2">
                <div class="col-auto">
                  <label class="sr-only" for="idSlideShare">Id de Slide share</label>
                  <div class="input-group mb-2">
                    <div class="input-group-prepend">
                      <div class="input-group-text">https://www.slideshare.net/</div>
                    </div>
                    <input type="text" class="form-control" formControlName="id_visualContent" id="idSlideShare" placeholder="Id del Slide share">
                  </div>
                </div>
              </div>
            </div>

          </div>

          <!-- Alineacion -->
          <div class="group">
            <h4 class="form-section-title">Alineacion del contenido</h4>
            <select class="form-control select-cat1" formControlName="align">
              <option>Derecha</option>
              <option>Izquierda</option>
            </select>
          </div>

        </div>

      </div>
    </div>
  </div>
  <div class="actions">
    <button class="btn-left btn btn-primary" type="button" (click)='saveContent()' [ngClass]="contentForm.invalid ? 'disabled' : '' ">Guardar contenido</button>
  </div>
</form>

